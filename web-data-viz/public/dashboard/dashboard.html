<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/imgs/somente_logo.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cello Connect | Quizz</title>


    <link rel="stylesheet" href="./../css/dashboards.css">
    <link rel="stylesheet" href="./../css/estilo.css" />
    <script src="../js/sessao.js"></script>
    <script src="./../js/alerta.js"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- scripts do Chart.js - 2022-1 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!--FONT AWESOME-->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
    <title>Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url(../assets/imgs/somente_logo.png);
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<!-- <body onload=" atualizarFeed()"> -->

<body>

    <div class="janela">
        <div class="header-left">
            <h1>CelloConnect</h1>

           


            <div class="btn-nav-white">
                <a href="./cards.html">
                    <h3>Gráficos</h3>
                </a>
            </div>

            <div class="btn-nav">

                <h3>Quiz</h3>

            </div>

            <div class="btn-nav-white">
                <a href="./mural.html">
                    <h3>Mural de Avisos</h3>
                </a>
            </div>

            <div class="btn-logout" onclick="limparSessao()">
                <h3>Sair</h3>
            </div>

        </div>




        <div class="quiz-container">
            <div id="boxquiz">
                <h2>Conhecimentos básicos de Violoncelo</h2>
                <br>
                <div class="questao" data-correct="c">
                    <p>1. Qual é o instrumento musical que pertence à família das cordasfriccionadas?</p>
                    <label><input type="radio" name="questao1" value="a">A) Piano</label><br>
                    <label><input type="radio" name="questao1" value="b">B) Violão</label><br>
                    <label><input type="radio" name="questao1" value="c">C) Violoncelo<label><br>
                            <label><input type="radio" name="questao1" value="d">D) Flauta</label>
                </div>
                <br>
                <div class="question" data-correct="a">
                    <p>2. Quantas cordas tem um violoncelo?</p>
                    <label><input type="radio" name="questao2" value="a">A) 4</label><br>
                    <label><input type="radio" name="questao2" value="b">B) 5</label><br>
                    <label><input type="radio" name="questao2" value="c">C) 6</label><br>
                    <label><input type="radio" name="questao2" value="d">D) 3</label>
                </div>
                <br>
                <div class="question" data-correct="d">
                    <p>3. Qual é o nome da peça de metal ou fibra onde o violoncelista apoia o instrumento enquanto
                        toca?</p>
                    <label><input type="radio" name="questao3" value="a">A) Apoio</label><br>
                    <label><input type="radio" name="questao3" value="b">B) Descanso</label><br>
                    <label><input type="radio" name="questao3" value="c">C) Estribo</label><br>
                    <label><input type="radio" name="questao3" value="d">D) Espigão</label>
                </div>
                <br>
                <div class="question" data-correct="a">
                    <p>4. Qual é o intervalo de afinação padrão das cordas de um violoncelo?</p>
                    <label><input type="radio" name="questao4" value="a">A) Dó - Sol - Ré - Lá</label><br>
                    <label><input type="radio" name="questao4" value="b">B) Ré - Sol - Dó - Fá</label><br>
                    <label><input type="radio" name="questao4" value="c">C) Sol - Ré - Lá - Mi</label><br>
                    <label><input type="radio" name="questao4" value="d">D) Lá - Mi - Si - Fá</label>
                </div>
                <br>
                <div class="question" data-correct="b">
                    <p>5. Qual é a posição padrão de segurar o violoncelo enquanto tocando?</p>
                    <label><input type="radio" name="questao5" value="a">A) De pé com o violoncelo em um
                        suporte</label><br>
                    <label><input type="radio" name="questao5" value="b">B) Sentado com o violoncelo entre as
                        pernas</label><br>
                    <label><input type="radio" name="questao5" value="c">C) Segurando o violoncelo como uma
                        guitarra</label><br>
                    <label><input type="radio" name="questao5" value="d">D) Balançando o violoncelo no ar</label>
                </div>
                <br>
                <div class="question" data-correct="c">
                    <p>6. Quem é amplamente considerado como um dos maiores violoncelistas da história da música
                        clássica?</p>
                    <label><input type="radio" name="questao6" value="a">A) Johann Sebastian Bach</label><br>
                    <label><input type="radio" name="questao6" value="b">B) Ludwig van Beethoven</label><br>
                    <label><input type="radio" name="questao6" value="c">C) Yo-Yo Ma</label><br>
                    <label><input type="radio" name="questao6" value="d">D) Wolfgang Amadeus Mozart</label>
                </div>
                <br>
                <div class="question" data-correct="d">
                    <p>7. Qual é a técnica usada para produzir um som mais suave no violoncelo, geralmente indicada por
                        tocar as cordas com os dedos?</p>
                    <label><input type="radio" name="questao7" value="a">A) Legato</label><br>
                    <label><input type="radio" name="questao7" value="b">B) Arco</label><br>
                    <label><input type="radio" name="questao7" value="c">C) Staccato</label><br>
                    <label><input type="radio" name="questao7" value="d">D) Pizzicato</label>
                </div>
                <br>
                <div class="question" data-correct="b">
                    <p>8. Quem é considerado um dos compositores mais famosos de peças para violoncelo?</p>
                    <label><input type="radio" name="questao8" value="a">A) Wolfgang Amadeus Mozart </label><br>
                    <label><input type="radio" name="questao8" value="b">B) Johann Sebastian Bach</label><br>
                    <label><input type="radio" name="questao8" value="c">C) Ludwig van Beethoven</label><br>
                    <label><input type="radio" name="questao8" value="d">D) Frédéric Chopin</label>
                </div>

                <button onclick="analisarQuiz()">Enviar</button>

            </div>
            <div id="resultadoquiz">
                <div id="div_mensagem"></div>
            </div>
        </div>






</body>

</html>

<script>
    function analisarQuiz() {
        var divMensagem = document.getElementById('div_mensagem');
        var quizContainer = document.querySelector('.quiz-container');
       
        var questao1 = document.querySelector('[name="questao1"]:checked');
        var questao2 = document.querySelector('[name="questao2"]:checked');
        var questao3 = document.querySelector('[name="questao3"]:checked');
        var questao4 = document.querySelector('[name="questao4"]:checked');
        var questao5 = document.querySelector('[name="questao5"]:checked');
        var questao6 = document.querySelector('[name="questao6"]:checked');
        var questao7 = document.querySelector('[name="questao7"]:checked');
        var questao8 = document.querySelector('[name="questao8"]:checked');
        const qtd_questao = Number(8);
        if (questao1 == null || questao2 == null || questao3 == null || questao4 == null || questao5 == null || questao6 == null || questao7 == null || questao8 == null) {
            alert(`Você precisa selecionar todos os campos!!`)
        }
        else {
            boxquiz.style.display = "none"
            var pontuacao = 0;
            var resultado = [];
            div_mensagem.innerHTML = '';
            if (questao1 && questao1.value == 'c') {
                pontuacao++;
                resultado.push('1ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('1ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }

            if (questao2 && questao2.value === 'a') {
                pontuacao++;
                resultado.push('2ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('2ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }

            if (questao3 && questao3.value === 'd') {
                pontuacao++;
                resultado.push('3ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('3ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            if (questao4 && questao4.value == 'a') {
                pontuacao++;
                resultado.push('4ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('4ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            if (questao5 && questao5.value == 'b') {
                pontuacao++;
                resultado.push('5ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('5ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            if (questao6 && questao6.value == 'c') {
                pontuacao++;
                resultado.push('6ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('6ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            if (questao7 && questao7.value == 'd') {
                pontuacao++;
                resultado.push('7ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('7ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            if (questao8 && questao8.value == 'b') {
                pontuacao++;
                resultado.push('8ª pergunta: <span class="correct-answer">Correta</span>');
            } else {
                resultado.push('8ª pergunta: <span class="incorrect-answer">Incorreta</span>');
            }
            
            // quizContainer.style.display = "none";
            divMensagem.style.display = "block";
            divMensagem.innerHTML = `<h3>Resultado:</h3>Você acertou ${pontuacao} de 8 <br><br>
            ${resultado.join('<br> <br>')} `;
        
        }
        var incorretas = qtd_questao - pontuacao;
        
        fetch('/usuarios/analisarQuiz', 
            {method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                idUsuarioServer: sessionStorage.ID_USUARIO,
                respostasCorretasServer: pontuacao,
                respostasIncorretasServer: incorretas
            })
            }
        )




    }
</script>